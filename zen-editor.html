<!--
This file is part of ZenSlides, the web tool for preparing a ZenBoard presentation.
Copyright (C) 2014 Qiqi Wang

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="ui-grid-b" style="overflow: hidden;">
  <div class="ui-block-a" style="height: 100vh; width: 14%;">
    <div class="thumbnail-control float-above" data-role="controlgroup" data-type="horizontal" data-mini="true">
      <a ng-click="showPage='chooser'" class="ui-btn ui-icon-back ui-btn-icon-notext" data-role="button">Back</a>
      <a ng-click="moveSlideUp()" class="ui-btn ui-icon-arrow-u ui-btn-icon-notext" data-role="button">Up</a>
      <a ng-click="moveSlideDown()" class="ui-btn ui-icon-arrow-d ui-btn-icon-notext" data-role="button">Down</a>
      <a ng-click="addSlide()" class="ui-btn ui-icon-plus ui-btn-icon-notext" data-role="button">Add</a>
      <a ng-click="deleteSlide()" class="ui-btn ui-icon-delete ui-btn-icon-notext" data-role="button">Del</a>
    </div>
    <div style="height:100vh; width:100%; overflow-y: scroll;">
      <div style="height:50px;"></div>
      <div class='thumbnail' ng-repeat='(slideId, slide) in presentation.slides' ng-attr-id="slide-{{slideId}}" ng-class='{selected: isSlideSelected(slideId)}' ng-click='selectSlide(slideId);'>
          <div class="slide-number">{{slideId-1000000}}&nbsp;</div>
          <md class='thumbnail-md' ng-model="slide.notes"></md>
        <div class="transparent-selector"></div>
      </div>
    </div>
  </div>
  <div class="ui-block-b" style="height:100vh; width:61%;" ng-mouseenter="isMouseOverMain=true" ng-mouseleave="isMouseOverMain=false">
    <div class="float" id="main-outer" ng-class="{selected: isMouseOverMain}">
      <div id="main" ng-class="{selected: isMouseOverMain}">
        <div id="webview-box">
          <iframe id="webview" src="about:blank"></iframe>
        </div>
        <div class="blocker" ng-class="{selected: isMouseOverMain}" id="blocker-north"></div>
        <div class="blocker" ng-class="{selected: isMouseOverMain}" id="blocker-south"></div>
        <div class="blocker" ng-class="{selected: isMouseOverMain}" id="blocker-west"></div>
        <div class="blocker" ng-class="{selected: isMouseOverMain}" id="blocker-east"></div>
        <div id="window-outline"></div>
      </div>
    </div>
    <div class="float" id='v-sliders' ng-show='isMouseOverMain'>
      <div ng-range-slider ng-from="currentSlide.vSliderOutL" ng-to="currentSlide.vSliderOutR" class='v-slider' orientation="vertical" min="-50" max="150" id="v-slider-out"></div>
      <div ng-range-slider ng-from="currentSlide.vSliderInL" ng-to="currentSlide.vSliderInR" class='v-slider' orientation="vertical" min="0" max="100" id="v-slider-in"></div>
    </div>
    <div class="float" id='h-sliders' ng-show='isMouseOverMain'>
      <div style="display:inline-block" class="h-slider">
        <div ng-range-slider ng-from="currentSlide.hSliderOutL" ng-to="currentSlide.hSliderOutR"class='h-slider' style="width:100%;" min="-50" max="150" id="h-slider-out"></div>
        <div ng-range-slider ng-from="currentSlide.hSliderInL" ng-to="currentSlide.hSliderInR" class='h-slider' style="width:100%;" min="0" max="100" id="h-slider-in"></div>
      </div>
      <input id="url" class='h-slider' type="url" placeholder="url" ng-model="currentSlide.url" style="width:60%" required/>
    </div>
    <div id='zoom' class='float' data-role="controlgroup" style="display:inline-block; margin:20px" ng-show='isMouseOverMain'>
      <a ng-click="zoomIn();" class="ui-btn ui-btn-icon-notext ui-icon-plus">Zoom In</a>
      <a ng-click="zoomOut();" class="ui-btn ui-btn-icon-notext ui-icon-minus">Zoom Out</a>
    </div>
  </div>
  <div class="ui-block-c" style="height:100vh; width:24%; position:relative;">
    <textarea class="slide-notes"></textarea>
    <md ng-model="currentSlide.notes" style="position:absolute; left:0; top:0; z-order:1000000"></md>
  </div>
</div>
